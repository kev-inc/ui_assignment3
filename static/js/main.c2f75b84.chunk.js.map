{"version":3,"sources":["sun.png","components/TestingView.js","view/ThermostatView.js","model/Thermostat.model.js","serviceWorker.js","index.js","App.js"],"names":["module","exports","TestingView","props","thermostatModel","current","send","currentTemp","context","class","type","style","width","value","onChange","event","target","min","max","ThermostatView","handleScroll","scrollDirection","nativeEvent","deltaY","handleMouseUp","setState","mouseDown","state","this","angle","renderCanvas","Math","PI","refs","canvas","addEventListener","e","preventDefault","ctx","getContext","clearRect","i","tempAngle","beginPath","ellipse","cos","sin","fillStyle","fill","handleMouseMove","rect","getBoundingClientRect","yCoord","y","top","canvas_height","xCoord","x","left","canvas_width","atan2","targetTemp","round","mode","modes","className","src","sunLogo","alt","ref","height","onMouseDown","handleMouseDown","onMouseUp","onMouseMove","onWheel","React","Component","addTarget","assign","minusTarget","setCurrent","setTarget","thermostat","id","dT","dTcool","dTheat","states","initial","off","on","cond","heating","cooling","changeTemp","armed","CLOCKWISE","ANTICLOCKWISE","increment_check","decrement_check","increment_update","actions","decrement_update","setTemp","ThermostatModel","Machine","guards","moreThan80","lessThan80","moreThan50","lessThan50","enableHeating","enableCooling","disableAll","Boolean","window","location","hostname","match","ReactDOM","render","useMachine","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.c2f75b84.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react'\r\n\r\nexport default function TestingView(props) {\r\n\r\n  const [current, send] = props.thermostatModel\r\n  const currentTemp = current.context.current\r\n\r\n  return(\r\n    <div class=\"testingview\">\r\n      <span>Set Current Temperature</span>\r\n      <input type=\"text\" style={{ width: 40 }} value={currentTemp} onChange={event => send(\"setCurrent\", {currentTemp: event.target.value})}/>\r\n      <input type=\"range\" min=\"32\" max=\"100\" value={currentTemp} onChange={event =>  send(\"setCurrent\", {currentTemp: event.target.value})}/>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport sunLogo from '../sun.png'\r\n\r\nexport default class ThermostatView extends React.Component{\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      mouseDown: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // get model\r\n    const [current, send] = this.props.thermostatModel\r\n    // get target temp\r\n    const targetTemp = current.context.target\r\n    // calculate position of yellow dot\r\n    const angle = (targetTemp-50)/30*300 + 30\r\n    // render yellow dot\r\n    this.renderCanvas(Math.PI / 2 + angle / 360 * 2 * Math.PI)\r\n    \r\n    // prevent default for canvas\r\n    const canvas = this.refs.canvas\r\n    canvas.addEventListener(\"wheel\", e => e.preventDefault())\r\n  }\r\n\r\n  componentDidUpdate() {\r\n   // get model\r\n   const [current, send] = this.props.thermostatModel\r\n   // get target temp\r\n   const targetTemp = current.context.target\r\n   // calculate position of yellow dot\r\n   const angle = (targetTemp-50)/30*300 + 30\r\n   // render yellow dot\r\n   this.renderCanvas(Math.PI / 2 + angle / 360 * 2 * Math.PI)\r\n  }\r\n\r\n  renderCanvas(angle) {\r\n    const ctx = this.refs.canvas.getContext(\"2d\")\r\n\r\n    // clear canvas\r\n    ctx.clearRect(0, 0, 400, 400) \r\n  \r\n    // redraw indicator ticks\r\n    for (var i = 5; i < 60 - 4; i++) {\r\n      const tempAngle = Math.PI / 2 + (i / 60) * 2 * Math.PI;\r\n      ctx.beginPath();\r\n      ctx.ellipse(200 + 80 * Math.cos(tempAngle), 200 + 80 * Math.sin(tempAngle), 10, 1, tempAngle, 0, 2 * Math.PI);\r\n      ctx.fillStyle = \"#ddd\";\r\n      ctx.fill();\r\n    }\r\n  \r\n    // redraw yellow dot\r\n    ctx.beginPath()\r\n    ctx.ellipse(200 + 90 * Math.cos(angle), 200 + 90 * Math.sin(angle), 5, 5, angle, 0, 2 * Math.PI)\r\n    ctx.fillStyle = \"yellow\"\r\n    ctx.fill()\r\n  }\r\n\r\n  handleScroll = event => {\r\n    const [current, send] = this.props.thermostatModel\r\n    const scrollDirection = event.nativeEvent.deltaY\r\n    if (scrollDirection > 0) {\r\n      // scroll upwards\r\n      send(\"CLOCKWISE\")\r\n    } else if (scrollDirection < 0) {\r\n      // scroll downwards\r\n      send(\"ANTICLOCKWISE\")\r\n    }\r\n  }\r\n\r\n  handleMouseDown (nativeEvent) {\r\n    this.setState({mouseDown: true}, () => this.handleMouseMove(nativeEvent))\r\n  }\r\n  \r\n  handleMouseUp = () => {\r\n    this.setState({mouseDown: false})\r\n  }\r\n  \r\n  handleMouseMove(nativeEvent) {\r\n    // dimensions of canvas\r\n    const canvas_width = 400\r\n    const canvas_height = 400\r\n    \r\n    const { mouseDown } = this.state;\r\n    const [current, send] = this.props.thermostatModel\r\n    if(mouseDown) {\r\n      const canvas = this.refs.canvas;\r\n      const rect = canvas.getBoundingClientRect();\r\n      const yCoord = nativeEvent.y - rect.top - canvas_height / 2;\r\n      const xCoord = nativeEvent.x - rect.left - canvas_width / 2;\r\n      const angle = (Math.atan2(xCoord, -yCoord) / Math.PI) * 180 + 180;\r\n      if (angle > 30 && angle < 330) {\r\n        // position of mouse is within the accepted limits of thermostat\r\n        // calculate temp based on position of mouse\r\n        const temp = Math.round(((angle - 30) / 300) * 30 + 50);\r\n        send(\"setTarget\", {targetTemp: temp})\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const [current, send] = this.props.thermostatModel\r\n    const currentTemp = current.context.current\r\n    const targetTemp = current.context.target\r\n    const mode = current.value.modes\r\n    return (\r\n      <div className=\"container\">\r\n        <div class=\"outer-circle\"></div>\r\n        <div class=\"inner-circle\"></div>\r\n        <div class=\"thermostat-border\"></div>\r\n        <div class=\"grey-quadrant\"></div>\r\n        <div class={`thermostat-bg ${mode}`} ></div>\r\n        <div class=\"temp\">\r\n          <div class=\"target-temp\">{targetTemp}</div>\r\n          <div class=\"current-temp\">Current: {currentTemp}</div>\r\n        </div>\r\n        <img class=\"sun-logo\" src={sunLogo} alt=\"sun\" />\r\n        <canvas ref=\"canvas\" width=\"400\" height=\"400\"\r\n          onMouseDown={event => this.handleMouseDown(event.nativeEvent)}\r\n          onMouseUp={this.handleMouseUp}\r\n          onMouseMove={event => this.handleMouseMove(event.nativeEvent)}\r\n          onWheel={this.handleScroll}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}","import { Machine, assign } from 'xstate'\r\n\r\n// increments target temp - for mouse scroll\r\nconst addTarget = assign({\r\n  target: (context, event) => context.target + 1\r\n})\r\n\r\n// decrements target temp - for mouse scroll\r\nconst minusTarget = assign({\r\n  target: (context, event) => context.target - 1\r\n})\r\n\r\n// set current temp - for external ui\r\nconst setCurrent = assign({\r\n  current: (context, event) => event.currentTemp\r\n})\r\n\r\n// set target temp - for mouse down and move\r\nconst setTarget = assign({\r\n  target: (context, event) => event.targetTemp\r\n})\r\n\r\nfunction moreThan80(context, event) {\r\n  return context.target >= 80;\r\n}\r\n\r\nfunction lessThan80(context, event) {\r\n  return context.target < 80;\r\n}\r\n\r\nfunction moreThan50(context, event) {\r\n  return context.target > 50;\r\n}\r\n\r\nfunction lessThan50(context, event) {\r\n  return context.target <= 50;\r\n}\r\n\r\n// transitions to heating state if condition is satisfied\r\nfunction enableHeating(context, event) {\r\n  const {target, current, dT, dTheat} = context\r\n  return current < target - dT - dTheat\r\n}\r\n\r\n// transitions to cooling state if condition is satisfied\r\nfunction enableCooling(context, event) {\r\n  const {target, current, dT, dTcool} = context\r\n  return current > target + dT + dTcool\r\n}\r\n\r\n// transitions to off state if condition is satisfied\r\nfunction disableAll(context, event) {\r\n  const {target, current, dT, dTheat, dTcool} = context\r\n  return ((current > target - (dT - dTheat)) && (current < target + (dT - dTcool)))\r\n}\r\n\r\nconst changeTemp = {\r\n  id: 'changeTemp',\r\n  initial: 'armed',\r\n  states: {\r\n    armed: {\r\n      on: {\r\n        CLOCKWISE: 'increment_check',\r\n        ANTICLOCKWISE: 'decrement_check'\r\n      },\r\n    },\r\n    increment_check: {\r\n      on: {\r\n        '': [{\r\n          target: 'increment_update',\r\n          cond: 'lessThan80'\r\n        }, {\r\n          target: 'armed',\r\n          cond: 'moreThan80'\r\n        }]\r\n      }\r\n    },\r\n    decrement_check: {\r\n      on: {\r\n        '': [{\r\n          target: 'decrement_update',\r\n          cond: 'moreThan50'\r\n        }, {\r\n          target: 'armed',\r\n          cond: 'lessThan50'\r\n        }]\r\n      }\r\n    },\r\n    increment_update: {\r\n      on: {\r\n        '': {\r\n          target:'armed',\r\n          actions: 'addTarget'\r\n        }\r\n      }\r\n    }, \r\n    decrement_update: {\r\n      on: {\r\n        '': {\r\n          target:'armed',\r\n          actions: 'minusTarget'\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst modes = {\r\n  id: 'modes',\r\n  initial: 'off',\r\n  states: {\r\n    off: {\r\n      on: {\r\n        '': [{\r\n          target: 'heating',\r\n          cond: 'enableHeating'\r\n        }, {\r\n          target: 'cooling',\r\n          cond: 'enableCooling'\r\n        }]\r\n      }\r\n    },\r\n    heating: {\r\n      on: {\r\n        '': [{\r\n          target: 'off',\r\n          cond: 'disableAll'\r\n        }, {\r\n          target: 'cooling',\r\n          cond: 'enableCooling'\r\n        }]\r\n      }\r\n    },\r\n    cooling: {\r\n      on: {\r\n        '': [{\r\n          target: 'off',\r\n          cond: 'disableAll'\r\n        }, {\r\n          target: 'heating',\r\n          cond: 'enableHeating'\r\n        }]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst thermostat = {\r\n  id: 'thermostat',\r\n  type:'parallel',\r\n  context: {\r\n    target: 72,\r\n    current: 72,\r\n    dT: 2,\r\n    dTcool: 1.5,\r\n    dTheat: 1\r\n  },\r\n  states: {\r\n    modes: modes,\r\n    changeTemp: changeTemp,\r\n    setTemp: {\r\n      on: {\r\n        setCurrent: {\r\n          actions: 'setCurrent'\r\n        },\r\n        setTarget: {\r\n          actions: 'setTarget'\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport const ThermostatModel = Machine(thermostat, {\r\n  actions: { addTarget, minusTarget, setCurrent, setTarget},\r\n  guards: {moreThan80, lessThan80, moreThan50, lessThan50, enableHeating, enableCooling, disableAll}\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport './App.css';\r\nimport TestingView from './components/TestingView';\r\nimport ThermostatView from './view/ThermostatView';\r\n\r\nimport { useMachine } from '@xstate/react'\r\nimport { ThermostatModel } from './model/Thermostat.model'\r\n\r\nexport default function App() {\r\n\r\n  const thermostatModel = useMachine(ThermostatModel)\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ThermostatView thermostatModel={thermostatModel}/>\r\n      <TestingView thermostatModel={thermostatModel}/>\r\n    </div>\r\n  );\r\n}"],"sourceRoot":""}