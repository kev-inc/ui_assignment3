{"version":3,"sources":["sun.png","components/TestingView.js","view/ThermostatView.js","model/Thermostat.model.js","serviceWorker.js","index.js","App.js"],"names":["module","exports","TestingView","props","thermostatModel","current","send","currentTemp","context","class","type","style","width","value","onChange","event","target","min","max","ThermostatView","handleScroll","scrollDirection","nativeEvent","deltaY","handleMouseUp","setState","mouseDown","state","this","angle","renderCanvas","Math","PI","ctx","refs","canvas","getContext","clearRect","i","tempAngle","beginPath","ellipse","cos","sin","fillStyle","fill","handleMouseMove","rect","getBoundingClientRect","yCoord","y","top","canvas_height","xCoord","x","left","canvas_width","atan2","targetTemp","round","mode","modes","className","src","sunLogo","alt","ref","height","onMouseDown","handleMouseDown","onMouseUp","onMouseMove","onWheel","React","Component","addTarget","assign","minusTarget","setCurrent","setTarget","thermostat","id","dT","dTcool","dTheat","states","initial","off","on","cond","heating","cooling","changeTemp","armed","CLOCKWISE","ANTICLOCKWISE","increment_check","decrement_check","increment_update","actions","decrement_update","setTemp","ThermostatModel","Machine","guards","moreThan80","lessThan80","moreThan50","lessThan50","enableHeating","enableCooling","disableAll","Boolean","window","location","hostname","match","ReactDOM","render","useMachine","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.7c18cf34.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react'\n\nexport default function TestingView(props) {\n\n  const [current, send] = props.thermostatModel\n  const currentTemp = current.context.current\n\n  return(\n    <div class=\"testingview\">\n      <span>Set Current Temperature</span>\n      <input type=\"text\" style={{ width: 40 }} value={currentTemp} onChange={event => send(\"setCurrent\", {currentTemp: event.target.value})}/>\n      <input type=\"range\" min=\"32\" max=\"100\" value={currentTemp} onChange={event =>  send(\"setCurrent\", {currentTemp: event.target.value})}/>\n    </div>\n  )\n}","import React from 'react'\nimport sunLogo from '../sun.png'\n\nexport default class ThermostatView extends React.Component{\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      mouseDown: false\n    }\n  }\n\n  componentDidMount() {\n    // get model\n    const [current, send] = this.props.thermostatModel\n    // get target temp\n    const targetTemp = current.context.target\n    // calculate position of yellow dot\n    const angle = (targetTemp-50)/30*300 + 30\n    // render yellow dot\n    this.renderCanvas(Math.PI / 2 + angle / 360 * 2 * Math.PI)\n  }\n\n  componentDidUpdate() {\n   // get model\n   const [current, send] = this.props.thermostatModel\n   // get target temp\n   const targetTemp = current.context.target\n   // calculate position of yellow dot\n   const angle = (targetTemp-50)/30*300 + 30\n   // render yellow dot\n   this.renderCanvas(Math.PI / 2 + angle / 360 * 2 * Math.PI)\n  }\n\n  renderCanvas(angle) {\n    const ctx = this.refs.canvas.getContext(\"2d\")\n\n    // clear canvas\n    ctx.clearRect(0, 0, 400, 400) \n  \n    // redraw indicator ticks\n    for (var i = 5; i < 60 - 4; i++) {\n      const tempAngle = Math.PI / 2 + (i / 60) * 2 * Math.PI;\n      ctx.beginPath();\n      ctx.ellipse(200 + 80 * Math.cos(tempAngle), 200 + 80 * Math.sin(tempAngle), 10, 1, tempAngle, 0, 2 * Math.PI);\n      ctx.fillStyle = \"#ddd\";\n      ctx.fill();\n    }\n  \n    // redraw yellow dot\n    ctx.beginPath()\n    ctx.ellipse(200 + 90 * Math.cos(angle), 200 + 90 * Math.sin(angle), 5, 5, angle, 0, 2 * Math.PI)\n    ctx.fillStyle = \"yellow\"\n    ctx.fill()\n  }\n\n  handleScroll = event => {\n    const [current, send] = this.props.thermostatModel\n    const scrollDirection = event.nativeEvent.deltaY\n    if (scrollDirection > 0) {\n      // scroll upwards\n      send(\"CLOCKWISE\")\n    } else if (scrollDirection < 0) {\n      // scroll downwards\n      send(\"ANTICLOCKWISE\")\n    }\n  }\n\n  handleMouseDown (nativeEvent) {\n    this.setState({mouseDown: true}, () => this.handleMouseMove(nativeEvent))\n  }\n  \n  handleMouseUp = () => {\n    this.setState({mouseDown: false})\n  }\n  \n  handleMouseMove(nativeEvent) {\n    // dimensions of canvas\n    const canvas_width = 400\n    const canvas_height = 400\n    \n    const { mouseDown } = this.state;\n    const [current, send] = this.props.thermostatModel\n    if(mouseDown) {\n      const canvas = this.refs.canvas;\n      const rect = canvas.getBoundingClientRect();\n      const yCoord = nativeEvent.y - rect.top - canvas_height / 2;\n      const xCoord = nativeEvent.x - rect.left - canvas_width / 2;\n      const angle = (Math.atan2(xCoord, -yCoord) / Math.PI) * 180 + 180;\n      if (angle > 30 && angle < 330) {\n        // position of mouse is within the accepted limits of thermostat\n        // calculate temp based on position of mouse\n        const temp = Math.round(((angle - 30) / 300) * 30 + 50);\n        send(\"setTarget\", {targetTemp: temp})\n      }\n    }\n  }\n\n  render() {\n    const [current, send] = this.props.thermostatModel\n    const currentTemp = current.context.current\n    const targetTemp = current.context.target\n    const mode = current.value.modes\n    return (\n      <div className=\"container\">\n        <div class=\"outer-circle\"></div>\n        <div class=\"inner-circle\"></div>\n        <div class=\"thermostat-border\"></div>\n        <div class=\"grey-quadrant\"></div>\n        <div class={`thermostat-bg ${mode}`} ></div>\n        <div class=\"temp\">\n          <div class=\"target-temp\">{targetTemp}</div>\n          <div class=\"current-temp\">Current: {currentTemp}</div>\n        </div>\n        <img class=\"sun-logo\" src={sunLogo} alt=\"sun\" />\n        <canvas ref=\"canvas\" width=\"400\" height=\"400\"\n          onMouseDown={event => this.handleMouseDown(event.nativeEvent)}\n          onMouseUp={this.handleMouseUp}\n          onMouseMove={event => this.handleMouseMove(event.nativeEvent)}\n          onWheel={this.handleScroll}\n        />\n      </div>\n    )\n  }\n}","import { Machine, assign } from 'xstate'\n\n// increments target temp - for mouse scroll\nconst addTarget = assign({\n  target: (context, event) => context.target + 1\n})\n\n// decrements target temp - for mouse scroll\nconst minusTarget = assign({\n  target: (context, event) => context.target - 1\n})\n\n// set current temp - for external ui\nconst setCurrent = assign({\n  current: (context, event) => event.currentTemp\n})\n\n// set target temp - for mouse down and move\nconst setTarget = assign({\n  target: (context, event) => event.targetTemp\n})\n\nfunction moreThan80(context, event) {\n  return context.target >= 80;\n}\n\nfunction lessThan80(context, event) {\n  return context.target < 80;\n}\n\nfunction moreThan50(context, event) {\n  return context.target > 50;\n}\n\nfunction lessThan50(context, event) {\n  return context.target <= 50;\n}\n\n// transitions to heating state if condition is satisfied\nfunction enableHeating(context, event) {\n  const {target, current, dT, dTheat} = context\n  return current < target - dT - dTheat\n}\n\n// transitions to cooling state if condition is satisfied\nfunction enableCooling(context, event) {\n  const {target, current, dT, dTcool} = context\n  return current > target + dT + dTcool\n}\n\n// transitions to off state if condition is satisfied\nfunction disableAll(context, event) {\n  const {target, current, dT, dTheat, dTcool} = context\n  return ((current > target - (dT - dTheat)) && (current < target + (dT - dTcool)))\n}\n\nconst changeTemp = {\n  id: 'changeTemp',\n  initial: 'armed',\n  states: {\n    armed: {\n      on: {\n        CLOCKWISE: 'increment_check',\n        ANTICLOCKWISE: 'decrement_check'\n      },\n    },\n    increment_check: {\n      on: {\n        '': [{\n          target: 'increment_update',\n          cond: 'lessThan80'\n        }, {\n          target: 'armed',\n          cond: 'moreThan80'\n        }]\n      }\n    },\n    decrement_check: {\n      on: {\n        '': [{\n          target: 'decrement_update',\n          cond: 'moreThan50'\n        }, {\n          target: 'armed',\n          cond: 'lessThan50'\n        }]\n      }\n    },\n    increment_update: {\n      on: {\n        '': {\n          target:'armed',\n          actions: 'addTarget'\n        }\n      }\n    }, \n    decrement_update: {\n      on: {\n        '': {\n          target:'armed',\n          actions: 'minusTarget'\n        }\n      }\n    }\n  }\n}\n\nconst modes = {\n  id: 'modes',\n  initial: 'off',\n  states: {\n    off: {\n      on: {\n        '': [{\n          target: 'heating',\n          cond: 'enableHeating'\n        }, {\n          target: 'cooling',\n          cond: 'enableCooling'\n        }]\n      }\n    },\n    heating: {\n      on: {\n        '': [{\n          target: 'off',\n          cond: 'disableAll'\n        }, {\n          target: 'cooling',\n          cond: 'enableCooling'\n        }]\n      }\n    },\n    cooling: {\n      on: {\n        '': [{\n          target: 'off',\n          cond: 'disableAll'\n        }, {\n          target: 'heating',\n          cond: 'enableHeating'\n        }]\n      }\n    }\n  }\n}\n\nconst thermostat = {\n  id: 'thermostat',\n  type:'parallel',\n  context: {\n    target: 72,\n    current: 72,\n    dT: 2,\n    dTcool: 1.5,\n    dTheat: 1\n  },\n  states: {\n    modes: modes,\n    changeTemp: changeTemp,\n    setTemp: {\n      on: {\n        setCurrent: {\n          actions: 'setCurrent'\n        },\n        setTarget: {\n          actions: 'setTarget'\n        }\n      }\n    }\n  }\n}\n\nexport const ThermostatModel = Machine(thermostat, {\n  actions: { addTarget, minusTarget, setCurrent, setTarget},\n  guards: {moreThan80, lessThan80, moreThan50, lessThan50, enableHeating, enableCooling, disableAll}\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport './App.css';\nimport TestingView from './components/TestingView';\nimport ThermostatView from './view/ThermostatView';\n\nimport { useMachine } from '@xstate/react'\nimport { ThermostatModel } from './model/Thermostat.model'\n\nexport default function App() {\n\n  const thermostatModel = useMachine(ThermostatModel)\n\n  return (\n    <div className=\"App\">\n      <ThermostatView thermostatModel={thermostatModel}/>\n      <TestingView thermostatModel={thermostatModel}/>\n    </div>\n  );\n}"],"sourceRoot":""}